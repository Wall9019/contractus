<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Testar Resposta da API com Chave Ofuscada</title>
</head>
<body>
  <h1>Teste de Resposta da API com Chave Ofuscada</h1>
  <button onclick="testarApi()">Testar API</button>
  <p id="resultado"></p>

  <script>
    // Chave ofuscada (a chave real está criptografada)
    const chaveOfuscada = "c2stcHJvai1nMW9XY2NJcDVEMmJyeUVmdlUyRTAxblMgeERQNzA3TkhCWXRlVnY4X1MyQWY1MFdxVjBwbWRKb2pubjJTMGJueFJGa2o1UVQzQmxrY1l6MUE3QVVPYzB3bVRNdjJkSVJ2RlNaR042cmtIMWdIYlZFajByeU5fUE5Cd2NXTXdqLXFyTEw4bkd1R0JrY01fdk1h"; 

    // Função para "desofuscar" a chave (decodificando de Base64)
    function desofuscarChave(chave) {
      let decoded = atob(chave);  // Decodifica de Base64 para a chave original
      return decoded;
    }

    async function testarApi() {
      try {
        // Desofuscar a chave antes de usá-la na requisição
        const chave = desofuscarChave(chaveOfuscada);

        // URL da API (substitua com a URL real da sua API)
        const url = 'https://api.exemplo.com/endpoint';

        // Configuração da requisição
        const response = await fetch(url, {
          method: 'GET', // ou 'POST', dependendo do tipo de API
          headers: {
            'Authorization': `Bearer ${chave}`, // Enviando a chave na autorização
            'Content-Type': 'application/json'
          }
        });

        // Verificando a resposta da API
        if (response.ok) {
          const data = await response.json();
          document.getElementById("resultado").innerText = `Resposta da API: ${JSON.stringify(data)}`;
        } else {
          document.getElementById("resultado").innerText = `Erro na resposta: ${response.statusText}`;
        }
      } catch (error) {
        document.getElementById("resultado").innerText = `Erro na requisição: ${error.message}`;
      }
    }
  </script>
</body>
</html>
